---
import Layout from '../layouts/Layout.astro';
import background from '../assets/img/background.jpg'
import type { Event } from '../../types/event.interface';
import Container from '../components/Container.astro';
import EventTable from '../components/EventTable.astro';

const response = await fetch('https://gospeak.io/api/groups/humantalks-paris/events');
const data: { data: Event[] } = await response.json();
const events: Event[] = data.data

---

<Layout title="Événements">
  <div class="bg-fixed bg-no-repeat fixed top-0 left-0 right-0 bottom-0 opacity-50" style={{ backgroundImage: `url(${background.src})`, backgroundSize: '50%', backgroundPosition: '100% 0%' }} />

  <Container class="justify-center grid grid-cols-1 sm:grid-cols-3 gap-6 py-16">
    { events.map(event => (
      <EventTable event={event} />
    )) }
  </Container>
</Layout>